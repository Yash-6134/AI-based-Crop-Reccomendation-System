{% extends 'base.html' %}

{% block title %}{{ _('KRUSHIMITRA - Crop Recommendation Result') }}{% endblock %}

{% block extra_css %}
<style>
  body {
    background: linear-gradient(135deg, #e0ffe0 0%, #f0f8ff 100%);
  }
  .result-card {
    background: #fff;
    border-radius: 1.5rem;
    box-shadow: 0 8px 32px rgba(60, 180, 75, 0.15);
    padding: 2rem;
    margin-top: 2rem;
    animation: fadeIn 1s;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(30px);}
    to { opacity: 1; transform: translateY(0);}
  }
  .crop-image {
    border-radius: 1rem;
    box-shadow: 0 4px 16px rgba(60, 180, 75, 0.15);
    max-height: 260px;
    object-fit: cover;
    transition: transform 0.3s;
  }
  .crop-image:hover {
    transform: scale(1.05) rotate(-2deg);
  }
  .confidence-badge {
    background: linear-gradient(90deg, #43e97b 0%, #38f9d7 100%);
    color: #fff;
    font-size: 1.2rem;
    border-radius: 2rem;
    padding: 0.5rem 1.5rem;
    box-shadow: 0 2px 8px rgba(60, 180, 75, 0.10);
    margin-bottom: 1rem;
    display: inline-block;
  }
  .info-section {
    background: #f8fff8;
    border-radius: 1rem;
    padding: 1.5rem;
    margin-top: 1.5rem;
    box-shadow: 0 2px 8px rgba(60, 180, 75, 0.07);
  }
  .input-params {
    background: #f0f8ff;
    border-radius: 1rem;
    padding: 1.2rem;
    margin-top: 2rem;
    box-shadow: 0 2px 8px rgba(60, 180, 75, 0.07);
  }
  .input-param {
    font-size: 1.1rem;
    margin-bottom: 0.7rem;
    color: #2e7d32;
  }
  .btn-gradient {
    background: linear-gradient(90deg, #43e97b 0%, #38f9d7 100%);
    color: #fff;
    border: none;
    border-radius: 2rem;
    padding: 0.7rem 2rem;
    font-size: 1.1rem;
    box-shadow: 0 2px 8px rgba(60, 180, 75, 0.10);
    transition: background 0.3s;
  }
  .btn-gradient:hover {
    background: linear-gradient(90deg, #38f9d7 0%, #43e97b 100%);
    color: #fff;
  }
  .tips-section {
    margin-top: 2rem;
    background: #e0ffe0;
    border-radius: 1rem;
    padding: 1.2rem;
    box-shadow: 0 2px 8px rgba(60, 180, 75, 0.07);
  }
  .tips-title {
    color: #388e3c;
    font-weight: bold;
    margin-bottom: 1rem;
  }
  .tip {
    margin-bottom: 0.7rem;
    font-size: 1.05rem;
    color: #2e7d32;
  }
</style>
{% endblock %}

{% block content %}
<div class="container">
  <div class="result-card mx-auto" style="max-width: 700px;">
    <div class="text-center">
      <h1 class="display-5 mb-2" style="color:#388e3c;">
        <i class="fas fa-seedling me-2"></i>{{ result.crop }}
      </h1>
      <span class="confidence-badge">
        {% trans conf=result.confidence %}{{ conf }}%% Confidence{% endtrans %}
      </span>
      <div class="mt-3 mb-3">
        <img src="{{ url_for('static', filename='img/crops/' ~ result.image) }}" alt="{{ result.crop }}" class="img-fluid crop-image">
      </div>
      <p class="lead mb-0" style="color:#388e3c;">{{ _('is the best crop for your conditions!') }}</p>
    </div>

    <div class="info-section mt-4">
      <h4 style="color:#388e3c;"><i class="fas fa-info-circle me-2"></i>{% trans crop=result.crop %}About {{ crop }}{% endtrans %}</h4>
      <p>{{ result.description }}</p>
      <h5 class="mt-3" style="color:#388e3c;"><i class="fas fa-leaf me-2"></i>{{ _('Ideal Growing Conditions') }}</h5>
      <p>{{ result.ideal_conditions }}</p>
    </div>

    <div class="input-params mt-4">
      <h5 style="color:#388e3c;"><i class="fas fa-sliders-h me-2"></i>{{ _('Your Input Parameters') }}</h5>
      <div class="row">
        <div class="col-6 input-param"><strong>{{ _('Nitrogen') }}:</strong> {{ input_data.nitrogen }} kg/ha</div>
        <div class="col-6 input-param"><strong>{{ _('Phosphorus') }}:</strong> {{ input_data.phosphorus }} kg/ha</div>
        <div class="col-6 input-param"><strong>{{ _('Potassium') }}:</strong> {{ input_data.potassium }} kg/ha</div>
        <div class="col-6 input-param"><strong>{{ _('Temperature') }}:</strong> {{ input_data.temperature }} Â°C</div>
        <div class="col-6 input-param"><strong>{{ _('Humidity') }}:</strong> {{ input_data.humidity }} %</div>
        <div class="col-6 input-param"><strong>{{ _('pH') }}:</strong> {{ input_data.ph }}</div>
        <div class="col-12 input-param"><strong>{{ _('Rainfall') }}:</strong> {{ input_data.rainfall }} mm</div>
      </div>
    </div>

    <div class="tips-section mt-4">
      <div class="tips-title"><i class="fas fa-lightbulb me-2"></i>{{ _('Farming Tips') }}</div>
      <div class="tip">{{ _('Maintaining proper soil health can increase crop yields by up to 30%%, reducing the need for fertilizers.') }}</div>
      <div class="tip">{{ _('Rotating crops can reduce pest problems, improve soil fertility, and increase overall farm productivity.') }}</div>
      <div class="tip">{{ _('Drip irrigation can save up to 60%% more water compared to traditional flooding methods.') }}</div>
      <div class="tip">{{ _('Use organic compost to improve soil structure and nutrient content.') }}</div>
      <div class="tip">{{ _('Monitor weather forecasts to plan irrigation and fertilizer application.') }}</div>
    </div>

    <div class="d-flex justify-content-between mt-4">
      <a href="/" class="btn btn-outline-success btn-gradient"><i class="fas fa-arrow-left me-2"></i>{{ _('Try Another Prediction') }}</a>
      <button class="btn btn-gradient" onclick="window.print()"><i class="fas fa-print me-2"></i>{{ _('Print Results') }}</button>
    </div>
  </div>
</div>
{% endblock %}